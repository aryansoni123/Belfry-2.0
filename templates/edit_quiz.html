{% extends "base.html" %}

{% block title %}Edit Quiz - Belfry{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <div class="mb-4">
        <a href="{{ url_for('teacher.view_quiz', quiz_id=quiz.id) }}" class="text-red-600 hover:text-red-800">‚Üê Back to Quiz</a>
    </div>
    
    <h1 class="text-3xl font-bold text-red-700 mb-6">Edit Quiz: {{ quiz.title }}</h1>
    
    <div class="bg-white rounded-lg shadow-lg p-8 border-2 border-orange-300">
        <form method="POST" action="{{ url_for('teacher.edit_quiz', quiz_id=quiz.id) }}">
            <div class="mb-6">
                <label for="title" class="block text-gray-700 font-semibold mb-2">Quiz Title *</label>
                <input type="text" 
                       id="title" 
                       name="title" 
                       required
                       value="{{ quiz.title }}"
                       class="w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"
                       placeholder="e.g., Sum of Two Numbers">
            </div>
            
            <div class="mb-6">
                <label for="description" class="block text-gray-700 font-semibold mb-2">Description</label>
                <textarea id="description" 
                          name="description" 
                          rows="2"
                          class="w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"
                          placeholder="Brief description of the problem">{{ quiz.description or '' }}</textarea>
            </div>
            
            <div class="mb-6">
                <label for="problem_statement" class="block text-gray-700 font-semibold mb-2">Problem Statement *</label>
                <textarea id="problem_statement" 
                          name="problem_statement" 
                          required
                          rows="8"
                          class="w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 code-editor"
                          placeholder="Write the complete problem statement here...">{{ quiz.problem_statement }}</textarea>
            </div>
            
            <div class="mb-6">
                <label for="constraints" class="block text-gray-700 font-semibold mb-2">Constraints</label>
                <textarea id="constraints" 
                          name="constraints" 
                          rows="3"
                          class="w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"
                          placeholder="e.g., 1 <= N <= 100, 1 <= arr[i] <= 1000">{{ quiz.constraints or '' }}</textarea>
            </div>
            
            <div class="grid md:grid-cols-2 gap-6 mb-6">
                <div>
                    <label for="sample_input" class="block text-gray-700 font-semibold mb-2">Sample Input</label>
                    <textarea id="sample_input" 
                              name="sample_input" 
                              rows="4"
                              class="w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 code-editor"
                              placeholder="5&#10;1 2 3 4 5">{{ quiz.sample_input or '' }}</textarea>
                </div>
                
                <div>
                    <label for="sample_output" class="block text-gray-700 font-semibold mb-2">Sample Output</label>
                    <textarea id="sample_output" 
                              name="sample_output" 
                              rows="4"
                              class="w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 code-editor"
                              placeholder="15">{{ quiz.sample_output or '' }}</textarea>
                </div>
            </div>
            
            <div class="flex space-x-4">
                <button type="submit" 
                        class="bg-orange-600 hover:bg-orange-700 text-white font-semibold px-8 py-3 rounded-lg transition">
                    Update Quiz
                </button>
                <a href="{{ url_for('teacher.view_quiz', quiz_id=quiz.id) }}" 
                   class="bg-red-600 hover:bg-red-700 text-white font-semibold px-8 py-3 rounded-lg transition">
                    Cancel
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}

